<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduLearn Pro - Online Courses (INR + PayPal Card - Fixed Card Loading)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

    <!-- PayPal SDK - Force Enable Card Funding (Fixed Loading Issue) -->
    <script src="https://www.paypal.com/sdk/js?client-id=AX1EqbNGdc1EMCNlXSwZz5vmZWRioBJDwxjCY3pfwSfrlya4VJYCTh3JG-XnC5oBKgGPBCz8r7TY3UWx&components=buttons&currency=USD&intent=capture&enable-funding=card"></script>

    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f8f9fa; }
        .navbar { background: #1e40af; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .hero { background: linear-gradient(135deg, #1e40af 0%, #7c3aed 100%); color: white; padding: 140px 0; text-align: center; }
        .course-card { border-radius: 18px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.12); transition: 0.4s; }
        .course-card:hover { transform: translateY(-12px); box-shadow: 0 20px 40px rgba(0,0,0,0.2); }
        .course-img { height: 220px; object-fit: cover; }
        .inr-btn { background: #28a745; color: white; font-weight: bold; }
        .inr-btn:hover { background: #1e7b34; }
        .sebi-badge { border: 8px solid #065f46; border-radius: 14px; margin: 15px 0; max-width: 100%; }
        .policy-card { background: white; border-radius: 16px; box-shadow: 0 8px 25px rgba(0,0,0,0.08); padding: 2.5rem; }
        footer { background: #1e293b; color: #e2e8f0; padding: 60px 0 30px; }

        .credit-card {
            width: 380px; height: 240px; margin: 30px auto; perspective: 1000px;
            border-radius: 16px; box-shadow: 0 15px 35px rgba(0,0,0,0.3); position: relative;
        }
        .card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.8s; transform-style: preserve-3d; }
        .credit-card:hover .card-inner { transform: rotateY(180deg); }
        .card-front, .card-back {
            position: absolute; width: 100%; height: 100%; backface-visibility: hidden;
            border-radius: 16px; padding: 20px; top: 0; left: 0;
        }
        .card-front { background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); color: white; }
        .card-back { background: #f1f5f9; color: #1e293b; transform: rotateY(180deg); }
        .card-number { font-size: 1.4rem; letter-spacing: 3px; }
        .card-holder { font-size: 1.3rem; margin-top: 30px; }

        /* PayPal Button Styling */
        .paypal-button { border-radius: 8px !important; margin: 5px 0; }
        #paypal-container { min-height: 60px; } /* Ensure space for buttons */
    </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container">
        <a class="navbar-brand fw-bold fs-4" href="#">EduLearn Pro</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="#courses">Courses</a></li>
                <li class="nav-item"><a class="nav-link" href="#gift-voucher">Gift Voucher</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Policies</a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#terms">Terms & Conditions</a></li>
                        <li><a class="dropdown-item" href="#refund">Refund Policy</a></li>
                        <li><a class="dropdown-item" href="#privacy">Privacy Policy</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
            </ul>
        </div>
    </div>
</nav>

<!-- Hero -->
<section class="hero">
    <div class="container">
        <h1 class="display-3 fw-bold">Learn Skills That Matter</h1>
        <p class="lead fs-2">Online Courses in Hindi & English</p>
        <p class="fs-4 mb-4">Pay in INR â€¢ International Card (No Address â€¢ No OTP)</p>
        <a href="#courses" class="btn btn-warning btn-lg fw-bold px-5">Browse Courses</a>
    </div>
</section>

<!-- Courses -->
<section id="courses" class="py-5 bg-light">
    <div class="container">
        <h2 class="text-center display-5 mb-5 text-primary">Our Popular Courses</h2>
        <div class="row row-cols-1 row-cols-md-3 g-5" id="courseGrid"></div>
    </div>
</section>

<!-- Gift Voucher -->
<section id="gift-voucher" class="py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-5 display-5">Gift a Course â€“ Gift Knowledge!</h2>
        <div class="row justify-content-center">
            <div class="col-lg-6">
                <div class="card shadow-lg p-4">
                    <div class="mb-3">
                        <label class="form-label fw-bold">Recipient Name</label>
                        <input type="text" id="voucher-name" class="form-control form-control-lg" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-bold">Amount</label>
                        <div class="input-group">
                            <input type="number" id="voucher-amount" class="form-control form-control-lg" min="12" placeholder="12" required>
                            <select id="voucher-currency" class="form-select form-select-lg">
                                <option value="INR">â‚¹ INR (India)</option>
                                <option value="USD" selected>$ USD (International)</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label class="form-label">Your Message (Optional)</label>
                        <textarea id="voucher-message" class="form-control" rows="2" placeholder="Wishing you success!"></textarea>
                    </div>
                    <div class="d-grid gap-2">
                        <button type="button" class="btn inr-btn btn-lg" onclick="payGiftINR()">
                            Pay with UPI/Card (INR)
                        </button>
                        <button type="button" class="btn btn-primary btn-lg" onclick="payGiftPayPal()">
                            Pay with PayPal / Card (USD â€“ No Address â€¢ No OTP)
                        </button>
                    </div>
                    <div id="paypal-gift-container" class="mt-3" style="min-height: 60px;"></div>
                </div>

                <div id="voucher-result" class="d-none mt-5 text-center">
                    <h3 class="text-success mb-4">Gift Voucher Ready!</h3>
                    <div id="voucher-card" class="credit-card">
                        <div class="card-inner">
                            <div class="card-front">
                                <div class="mt-4">
                                    <div class="card-number" id="card-number">GIFT 0000 0000 0000</div>
                                    <div class="card-holder mt-4" id="card-holder">RECIPIENT</div>
                                </div>
                            </div>
                            <div class="card-back text-start">
                                <div class="bg-dark text-white p-3 rounded d-inline-block">
                                    Amount: <span id="gift-currency-symbol">$</span><span id="gift-amount">50</span>
                                </div>
                                <div class="mt-3 small fst-italic" id="gift-message">Happy Learning!</div>
                            </div>
                        </div>
                    </div>
                    <button id="download-voucher" class="btn btn-primary btn-lg mt-3">
                        Download Voucher as PNG
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Policies -->
<section id="terms" class="py-5 bg-white"><div class="container"><div class="policy-card"><h2 class="text-center mb-4">Terms & Conditions</h2><p class="text-center text-muted">Last Updated: November 25, 2025</p><p>By purchasing any course from EduLearn Pro (Proprietor: AFSANA RAMJAN MULANI, Satara, Maharashtra), you agree to these terms. All courses are digital products. Access is granted for lifetime. Sharing login credentials is strictly prohibited and will result in permanent ban without refund.</p></div></div></section>
<section id="refund" class="py-5 bg-light"><div class="container"><div class="policy-card"><h2 class="text-center mb-4">Refund Policy</h2><p class="text-success text-center fw-bold fs-4">7-Day Money-Back Guarantee</p><ul class="mt-3"><li>Full refund within 7 days if less than 20% of the course is watched.</li><li>Email request to: musaddikj09@gmail.com with Order ID.</li></ul></div></div></section>
<section id="privacy" class="py-5 bg-white"><div class="container"><div class="policy-card"><h2 class="text-center mb-4">Privacy Policy</h2><p>We collect only Name, Email & Phone for course delivery. Payment processing is securely handled by Razorpay/PayPal. We do not store card details.</p></div></div></section>
<section id="contact" class="py-5 bg-light text-center"><div class="container"><h2 class="display-5 mb-4">Contact Us</h2><p class="fs-3">WhatsApp: <a href="https://wa.me/917378646180" class="text-success fw-bold">7378646180</a><br>Email: <a href="mailto:musaddikj09@gmail.com" class="text-primary">musaddikj09@gmail.com</a></p></div></section>

<footer class="text-center"><div class="container"><p class="mb-0">Â© 2025 EduLearn Pro â€¢ SEBI Registered Educator â€¢ International Payments via PayPal Card (No Address â€¢ No OTP Required)</p></div></footer>

<script>
    const RAZORPAY_KEY = "rzp_live_RgqybfaGJlen9I";

    const courses = [
        { id:1, name:"Complete Web Development Bootcamp 2026", priceINR:799, priceUSD:19, img:"https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=600" },
        { id:2, name:"Digital Marketing Masterclass (Hindi)", priceINR:699, priceUSD:15, img:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=600" },
        { id:3, name:"Stock Market & Trading for Beginners", priceINR:899, priceUSD:22, img:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=600", sebi:true },
        { id:4, name:"Python for Beginners to Advanced", priceINR:599, priceUSD:18, img:"https://images.unsplash.com/photo-1526379095098-d400fd0bf935?w=600" },
        { id:5, name:"Graphic Design with Canva & Photoshop", priceINR:549, priceUSD:14, img:"https://images.unsplash.com/photo-1558655146-9f40138edfeb?w=600" },
        { id:6, name:"Spoken English + Personality Development", priceINR:499, priceUSD:12, img:"https://images.unsplash.com/photo-1524178232363-1fb2b075b655?w=600" }
    ];

    // Render PayPal Buttons (Fixed - Force Card Enable + Better Error Handling)
    function renderPayPalButton(containerId, amount, description, onSuccess) {
        const container = document.getElementById(containerId);
        if (!container || !window.paypal || !window.paypal.Buttons) {
            console.error("PayPal SDK not loaded");
            container.innerHTML = '<p class="text-danger small">PayPal loading... (Check console)</p>';
            return;
        }

        // Clear and prepare
        container.innerHTML = '';

        paypal.Buttons({
            onClick: () => { console.log('PayPal button clicked - starting order'); }, // Track clicks
            createOrder: (data, actions) => {
                console.log('Creating order for', amount);
                return actions.order.create({
                    purchase_units: [{
                        amount: { value: amount.toFixed(2), currency_code: "USD" },
                        description: description
                    }],
                    application_context: {
                        shipping_preference: "NO_SHIPPING"  // Skip address
                    }
                });
            },
            onApprove: (data, actions) => {
                console.log('Order approved, capturing...');
                return actions.order.capture().then(details => {
                    console.log('Payment success:', details);
                    onSuccess(details);
                });
            },
            onError: (err) => {
                console.error('PayPal Error:', err);
                alert("Payment failed: " + (err.message || 'Check card details or try INR. Console for details.'));
            },
            style: {
                shape: 'rect',
                color: 'gold',
                layout: 'vertical',  // Ensures card button shows below
                label: 'paypal'
            }
        }).render(container).catch(err => {
            console.error('Render error:', err);
            container.innerHTML = '<p class="text-danger small">PayPal render failed. Try refresh.</p>';
        });
    }

    // Load Courses
    function loadCourses() {
        const grid = document.getElementById('courseGrid');
        if (!grid) return;

        courses.forEach(c => {
            const containerId = `paypal-${c.id}`;
            grid.innerHTML += `
                <div class="col">
                    <div class="card course-card h-100">
                        <img src="${c.img}" class="card-img-top course-img" alt="${c.name}">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">${c.name}</h5>
                            ${c.sebi ? `<p class="text-success fw-bold text-center mt-3">SEBI Registered Educator</p>
                            <img src="https://edulearn-pro.vercel.app/certificate.jpg" class="sebi-badge img-fluid" alt="SEBI">` : ''}
                            <div class="mt-auto text-center">
                                <p class="fs-4 fw-bold text-success mb-1">â‚¹${c.priceINR} INR</p>
                                <p class="text-primary mb-3">or $${c.priceUSD} USD (Card â€“ No Address)</p>
                                <div id="${containerId}" class="my-3"></div>
                                <button onclick="payWithINR(${c.id})" class="btn btn-outline-danger w-100 mt-2">
                                    Pay in INR (UPI/Card)
                                </button>
                            </div>
                        </div>
                    </div>
                </div>`;

            renderPayPalButton(`paypal-${c.id}`, c.priceUSD, c.name, (details) => {
                alert("Payment Successful! Thank you " + (details.payer?.name?.given_name || "Learner") + " ðŸŽ‰ Course access sent to email.");
            });
        });
    }

    // Razorpay INR Payment (Same as before)
    function payWithINR(id) {
        const course = courses.find(c => c.id === id);
        const options = {
            key: RAZORPAY_KEY,
            amount: course.priceINR * 100,
            currency: "INR",
            name: "EduLearn Pro",
            description: course.name,
            handler: response => alert("INR Payment Success! ID: " + response.razorpay_payment_id),
            prefill: { name: prompt("Your Name"), email: prompt("Your Email"), contact: prompt("Phone") },
            theme: { color: "#dc2626" }
        };
        new Razorpay(options).open();
    }

    // Gift Voucher INR (Same)
    function payGiftINR() {
        const name = document.getElementById('voucher-name').value.trim();
        const amount = document.getElementById('voucher-amount').value;
        if (!name || !amount || amount < 499) return alert("Name & minimum â‚¹499 required");
        const options = {
            key: RAZORPAY_KEY,
            amount: amount * 100,
            currency: "INR",
            name: "EduLearn Pro Gift Voucher",
            description: `Gift for ${name}`,
            handler: response => generateVoucher(response.razorpay_payment_id, amount, "â‚¹", name),
            prefill: { name },
            theme: { color: "#28a745" }
        };
        new Razorpay(options).open();
    }

    // Gift Voucher PayPal (Fixed)
    function payGiftPayPal() {
        const name = document.getElementById('voucher-name').value.trim();
        const amount = parseFloat(document.getElementById('voucher-amount').value);
        if (!name || !amount || amount < 12) return alert("Recipient name & minimum $12 required");

        const container = document.getElementById('paypal-gift-container');
        container.innerHTML = '';

        renderPayPalButton('paypal-gift-container', amount, `Gift Voucher for ${name}`, (details) => {
            generateVoucher(details.id, amount, "$", name);
        });
    }

    function generateVoucher(id, amount, symbol, name) {
        document.getElementById('card-number').textContent = 'GIFT ' + id.slice(-16).match(/.{4}/g)?.join(' ') || id;
        document.getElementById('card-holder').textContent = name.toUpperCase();
        document.getElementById('gift-amount').textContent = amount;
        document.getElementById('gift-currency-symbol').textContent = symbol;
        document.getElementById('gift-message').textContent = document.getElementById('voucher-message').value || "Happy Learning!";
        document.getElementById('voucher-result').classList.remove('d-none');
        document.getElementById('voucher-result').scrollIntoView({ behavior: "smooth" });
    }

    // Download Voucher (Same)
    document.getElementById('download-voucher')?.addEventListener('click', () => {
        html2canvas(document.getElementById('voucher-card'), { scale: 2 }).then(canvas => {
            const link = document.createElement('a');
            link.download = 'EduLearn-Pro-Gift-Voucher.png';
            link.href = canvas.toDataURL();
            link.click();
        });
    });

    // Load on Ready (With Timeout Fallback)
    function initPayPal() {
        if (window.paypal && window.paypal.Buttons) {
            loadCourses();
        } else {
            setTimeout(initPayPal, 1000); // Retry after 1s
        }
    }
    initPayPal();
</script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
